{
  "timestamp": "2025-07-14T22:43:30.147517",
  "duration": 3.0330677032470703,
  "total_suites": 5,
  "passed_suites": 2,
  "failed_suites": 3,
  "success_rate": 40.0,
  "server_image": null,
  "branch": null,
  "results": {
    "REST API Tests": {
      "command": "python -m pytest tests/test_rest_api.py -v --tb=short --html=reports/report.html --self-contained-html --json-report --json-report-file=reports/report.json",
      "return_code": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.2, pytest-7.4.3, pluggy-1.6.0 -- /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/test-env/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.2', 'Platform': 'Linux-6.12.32-amd64-x86_64-with-glibc2.36', 'Packages': {'pytest': '7.4.3', 'pluggy': '1.6.0'}, 'Plugins': {'xdist': '3.5.0', 'metadata': '3.1.1', 'asyncio': '0.21.1', 'html': '4.1.1', 'json-report': '1.5.0'}}\nrootdir: /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness\nconfigfile: pytest.ini\nplugins: xdist-3.5.0, metadata-3.1.1, asyncio-0.21.1, html-4.1.1, json-report-1.5.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 4 items\n\ntests/test_rest_api.py::test_root_endpoint PASSED                        [ 25%]\ntests/test_rest_api.py::test_event_endpoint PASSED                       [ 50%]\ntests/test_rest_api.py::test_recent_events_endpoint PASSED               [ 75%]\ntests/test_rest_api.py::test_filter_options_endpoint PASSED              [100%]\n\n=============================== warnings summary ===============================\ntests/test_rest_api.py:5\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:5: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:12\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:12: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:31\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:31: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:38\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: reports/report.json\n- Generated html report: file:///home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/reports/report.html -\n======================== 4 passed, 4 warnings in 0.13s =========================\n",
      "stderr": "",
      "duration": 0.46821045875549316,
      "success": true
    },
    "WebSocket Tests": {
      "command": "python -m pytest tests/test_websockets.py -v --tb=short --html=reports/report.html --self-contained-html --json-report --json-report-file=reports/report.json",
      "return_code": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.2, pytest-7.4.3, pluggy-1.6.0 -- /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/test-env/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.2', 'Platform': 'Linux-6.12.32-amd64-x86_64-with-glibc2.36', 'Packages': {'pytest': '7.4.3', 'pluggy': '1.6.0'}, 'Plugins': {'xdist': '3.5.0', 'metadata': '3.1.1', 'asyncio': '0.21.1', 'html': '4.1.1', 'json-report': '1.5.0'}}\nrootdir: /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness\nconfigfile: pytest.ini\nplugins: xdist-3.5.0, metadata-3.1.1, asyncio-0.21.1, html-4.1.1, json-report-1.5.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 2 items\n\ntests/test_websockets.py::test_websocket_connection PASSED               [ 50%]\ntests/test_websockets.py::test_websocket_receives_events PASSED          [100%]\n\n=============================== warnings summary ===============================\ntests/test_websockets.py:7\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_websockets.py:7: PytestUnknownMarkWarning: Unknown pytest.mark.websocket - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.websocket\n\ntests/test_websockets.py:22\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_websockets.py:22: PytestUnknownMarkWarning: Unknown pytest.mark.websocket - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.websocket\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: reports/report.json\n- Generated html report: file:///home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/reports/report.html -\n======================== 2 passed, 2 warnings in 0.14s =========================\n",
      "stderr": "",
      "duration": 0.48577094078063965,
      "success": true
    },
    "Database Tests": {
      "command": "python -m pytest tests/test_database.py -v --tb=short --html=reports/report.html --self-contained-html --json-report --json-report-file=reports/report.json",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.2, pytest-7.4.3, pluggy-1.6.0 -- /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/test-env/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.2', 'Platform': 'Linux-6.12.32-amd64-x86_64-with-glibc2.36', 'Packages': {'pytest': '7.4.3', 'pluggy': '1.6.0'}, 'Plugins': {'xdist': '3.5.0', 'metadata': '3.1.1', 'asyncio': '0.21.1', 'html': '4.1.1', 'json-report': '1.5.0'}}\nrootdir: /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness\nconfigfile: pytest.ini\nplugins: xdist-3.5.0, metadata-3.1.1, asyncio-0.21.1, html-4.1.1, json-report-1.5.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 4 items\n\ntests/test_database.py::test_sqlite_event_storage PASSED                 [ 25%]\ntests/test_database.py::test_postgres_event_storage FAILED               [ 50%]\ntests/test_database.py::test_mongo_event_storage FAILED                  [ 75%]\ntests/test_database.py::test_event_count_increment FAILED                [100%]\n\n=================================== FAILURES ===================================\n_________________________ test_postgres_event_storage __________________________\ntests/test_database.py:59: in test_postgres_event_storage\n    conn = psycopg2.connect(\nE   NameError: name 'psycopg2' is not defined\n___________________________ test_mongo_event_storage ___________________________\ntests/test_database.py:90: in test_mongo_event_storage\n    client = MongoClient(config.database.mongo_host, config.database.mongo_port)\nE   NameError: name 'MongoClient' is not defined\n__________________________ test_event_count_increment __________________________\ntest-env/lib/python3.11/site-packages/requests/models.py:971: in json\n    return complexjson.loads(self.text, **kwargs)\n/usr/lib/python3.11/json/__init__.py:346: in loads\n    return _default_decoder.decode(s)\n/usr/lib/python3.11/json/decoder.py:337: in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n/usr/lib/python3.11/json/decoder.py:355: in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\nE   json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\ntests/test_database.py:107: in test_event_count_increment\n    initial_count = initial_response.json().get(\"count\", 0)\ntest-env/lib/python3.11/site-packages/requests/models.py:975: in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nE   requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n=============================== warnings summary ===============================\ntests/test_database.py:8\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:8: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_database.py:46\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:46: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_database.py:77\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:77: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_database.py:102\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:102: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: reports/report.json\n- Generated html report: file:///home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/reports/report.html -\n=========================== short test summary info ============================\nFAILED tests/test_database.py::test_postgres_event_storage - NameError: name ...\nFAILED tests/test_database.py::test_mongo_event_storage - NameError: name 'Mo...\nFAILED tests/test_database.py::test_event_count_increment - requests.exceptio...\n=================== 3 failed, 1 passed, 4 warnings in 0.18s ====================\n",
      "stderr": "",
      "duration": 0.5480809211730957,
      "success": false
    },
    "Edge Case Tests": {
      "command": "python -m pytest tests/test_edge_cases.py -v --tb=short --html=reports/report.html --self-contained-html --json-report --json-report-file=reports/report.json",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.2, pytest-7.4.3, pluggy-1.6.0 -- /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/test-env/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.2', 'Platform': 'Linux-6.12.32-amd64-x86_64-with-glibc2.36', 'Packages': {'pytest': '7.4.3', 'pluggy': '1.6.0'}, 'Plugins': {'xdist': '3.5.0', 'metadata': '3.1.1', 'asyncio': '0.21.1', 'html': '4.1.1', 'json-report': '1.5.0'}}\nrootdir: /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness\nconfigfile: pytest.ini\nplugins: xdist-3.5.0, metadata-3.1.1, asyncio-0.21.1, html-4.1.1, json-report-1.5.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 10 items\n\ntests/test_edge_cases.py::test_invalid_event_missing_fields PASSED       [ 10%]\ntests/test_edge_cases.py::test_malformed_json FAILED                     [ 20%]\ntests/test_edge_cases.py::test_recent_events_with_limit PASSED           [ 30%]\ntests/test_edge_cases.py::test_cors_headers FAILED                       [ 40%]\ntests/test_edge_cases.py::test_unsupported_methods FAILED                [ 50%]\ntests/test_edge_cases.py::test_large_payload PASSED                      [ 60%]\ntests/test_edge_cases.py::test_special_characters PASSED                 [ 70%]\ntests/test_edge_cases.py::test_empty_payload PASSED                      [ 80%]\ntests/test_edge_cases.py::test_concurrent_requests PASSED                [ 90%]\ntests/test_edge_cases.py::test_performance_timing PASSED                 [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_malformed_json ______________________________\ntest-env/lib/python3.11/site-packages/requests/models.py:971: in json\n    return complexjson.loads(self.text, **kwargs)\n/usr/lib/python3.11/json/__init__.py:346: in loads\n    return _default_decoder.decode(s)\n/usr/lib/python3.11/json/decoder.py:337: in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n/usr/lib/python3.11/json/decoder.py:355: in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\nE   json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\ntests/test_edge_cases.py:52: in test_malformed_json\n    assert \"Invalid request\" in response.json().get(\"error\", \"\")\ntest-env/lib/python3.11/site-packages/requests/models.py:975: in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nE   requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n______________________________ test_cors_headers _______________________________\ntests/test_edge_cases.py:76: in test_cors_headers\n    assert response.status_code == 200\nE   assert 204 == 200\nE    +  where 204 = <Response [204]>.status_code\n___________________________ test_unsupported_methods ___________________________\ntests/test_edge_cases.py:91: in test_unsupported_methods\n    assert response.status_code == 200  # Server returns default response\nE   assert 404 == 200\nE    +  where 404 = <Response [404]>.status_code\n=============================== warnings summary ===============================\ntests/test_edge_cases.py:6\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:6: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:45\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:45: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:54\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:54: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:72\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:72: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:81\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:81: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:99\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:99: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:113\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:113: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:130\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:130: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:143\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:143: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:175\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:175: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: reports/report.json\n- Generated html report: file:///home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/reports/report.html -\n=========================== short test summary info ============================\nFAILED tests/test_edge_cases.py::test_malformed_json - requests.exceptions.JS...\nFAILED tests/test_edge_cases.py::test_cors_headers - assert 204 == 200\nFAILED tests/test_edge_cases.py::test_unsupported_methods - assert 404 == 200\n=================== 3 failed, 7 passed, 10 warnings in 0.27s ===================\n",
      "stderr": "",
      "duration": 0.6451010704040527,
      "success": false
    },
    "Integration Tests": {
      "command": "python -m pytest tests/ -v --tb=short --html=reports/report.html --self-contained-html --json-report --json-report-file=reports/report.json",
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.2, pytest-7.4.3, pluggy-1.6.0 -- /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/test-env/bin/python\ncachedir: .pytest_cache\nmetadata: {'Python': '3.11.2', 'Platform': 'Linux-6.12.32-amd64-x86_64-with-glibc2.36', 'Packages': {'pytest': '7.4.3', 'pluggy': '1.6.0'}, 'Plugins': {'xdist': '3.5.0', 'metadata': '3.1.1', 'asyncio': '0.21.1', 'html': '4.1.1', 'json-report': '1.5.0'}}\nrootdir: /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness\nconfigfile: pytest.ini\nplugins: xdist-3.5.0, metadata-3.1.1, asyncio-0.21.1, html-4.1.1, json-report-1.5.0\nasyncio: mode=Mode.STRICT\ncollecting ... collected 30 items\n\ntests/test_database.py::test_sqlite_event_storage PASSED                 [  3%]\ntests/test_database.py::test_postgres_event_storage FAILED               [  6%]\ntests/test_database.py::test_mongo_event_storage FAILED                  [ 10%]\ntests/test_database.py::test_event_count_increment FAILED                [ 13%]\ntests/test_edge_cases.py::test_invalid_event_missing_fields PASSED       [ 16%]\ntests/test_edge_cases.py::test_malformed_json FAILED                     [ 20%]\ntests/test_edge_cases.py::test_recent_events_with_limit PASSED           [ 23%]\ntests/test_edge_cases.py::test_cors_headers FAILED                       [ 26%]\ntests/test_edge_cases.py::test_unsupported_methods FAILED                [ 30%]\ntests/test_edge_cases.py::test_large_payload PASSED                      [ 33%]\ntests/test_edge_cases.py::test_special_characters PASSED                 [ 36%]\ntests/test_edge_cases.py::test_empty_payload PASSED                      [ 40%]\ntests/test_edge_cases.py::test_concurrent_requests PASSED                [ 43%]\ntests/test_edge_cases.py::test_performance_timing PASSED                 [ 46%]\ntests/test_rest_api.py::test_root_endpoint PASSED                        [ 50%]\ntests/test_rest_api.py::test_event_endpoint PASSED                       [ 53%]\ntests/test_rest_api.py::test_recent_events_endpoint PASSED               [ 56%]\ntests/test_rest_api.py::test_filter_options_endpoint PASSED              [ 60%]\ntests/test_themes_api.py::test_create_theme FAILED                       [ 63%]\ntests/test_themes_api.py::test_get_theme FAILED                          [ 66%]\ntests/test_themes_api.py::test_search_themes FAILED                      [ 70%]\ntests/test_themes_api.py::test_update_theme FAILED                       [ 73%]\ntests/test_themes_api.py::test_delete_theme FAILED                       [ 76%]\ntests/test_themes_api.py::test_export_theme FAILED                       [ 80%]\ntests/test_themes_api.py::test_import_theme FAILED                       [ 83%]\ntests/test_themes_api.py::test_theme_stats FAILED                        [ 86%]\ntests/test_themes_api.py::test_theme_validation PASSED                   [ 90%]\ntests/test_themes_api.py::test_theme_not_found PASSED                    [ 93%]\ntests/test_websockets.py::test_websocket_connection PASSED               [ 96%]\ntests/test_websockets.py::test_websocket_receives_events PASSED          [100%]\n\n=================================== FAILURES ===================================\n_________________________ test_postgres_event_storage __________________________\ntests/test_database.py:59: in test_postgres_event_storage\n    conn = psycopg2.connect(\nE   NameError: name 'psycopg2' is not defined\n___________________________ test_mongo_event_storage ___________________________\ntests/test_database.py:90: in test_mongo_event_storage\n    client = MongoClient(config.database.mongo_host, config.database.mongo_port)\nE   NameError: name 'MongoClient' is not defined\n__________________________ test_event_count_increment __________________________\ntest-env/lib/python3.11/site-packages/requests/models.py:971: in json\n    return complexjson.loads(self.text, **kwargs)\n/usr/lib/python3.11/json/__init__.py:346: in loads\n    return _default_decoder.decode(s)\n/usr/lib/python3.11/json/decoder.py:337: in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n/usr/lib/python3.11/json/decoder.py:355: in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\nE   json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\ntests/test_database.py:107: in test_event_count_increment\n    initial_count = initial_response.json().get(\"count\", 0)\ntest-env/lib/python3.11/site-packages/requests/models.py:975: in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nE   requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n_____________________________ test_malformed_json ______________________________\ntest-env/lib/python3.11/site-packages/requests/models.py:971: in json\n    return complexjson.loads(self.text, **kwargs)\n/usr/lib/python3.11/json/__init__.py:346: in loads\n    return _default_decoder.decode(s)\n/usr/lib/python3.11/json/decoder.py:337: in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n/usr/lib/python3.11/json/decoder.py:355: in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\nE   json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\ntests/test_edge_cases.py:52: in test_malformed_json\n    assert \"Invalid request\" in response.json().get(\"error\", \"\")\ntest-env/lib/python3.11/site-packages/requests/models.py:975: in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nE   requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n______________________________ test_cors_headers _______________________________\ntests/test_edge_cases.py:76: in test_cors_headers\n    assert response.status_code == 200\nE   assert 204 == 200\nE    +  where 204 = <Response [204]>.status_code\n___________________________ test_unsupported_methods ___________________________\ntests/test_edge_cases.py:91: in test_unsupported_methods\n    assert response.status_code == 200  # Server returns default response\nE   assert 404 == 200\nE    +  where 404 = <Response [404]>.status_code\n______________________________ test_create_theme _______________________________\ntests/test_themes_api.py:26: in test_create_theme\n    assert response.status_code == 201\nE   assert 400 == 201\nE    +  where 400 = <Response [400]>.status_code\n________________________________ test_get_theme ________________________________\ntests/test_themes_api.py:37: in test_get_theme\n    theme_id = test_create_theme()\ntests/test_themes_api.py:26: in test_create_theme\n    assert response.status_code == 201\nE   assert 400 == 201\nE    +  where 400 = <Response [400]>.status_code\n______________________________ test_search_themes ______________________________\ntests/test_themes_api.py:52: in test_search_themes\n    assert \"themes\" in response_data\nE   AssertionError: assert 'themes' in {'data': [], 'success': True}\n______________________________ test_update_theme _______________________________\ntests/test_themes_api.py:59: in test_update_theme\n    theme_id = test_create_theme()\ntests/test_themes_api.py:26: in test_create_theme\n    assert response.status_code == 201\nE   assert 400 == 201\nE    +  where 400 = <Response [400]>.status_code\n______________________________ test_delete_theme _______________________________\ntests/test_themes_api.py:80: in test_delete_theme\n    theme_id = test_create_theme()\ntests/test_themes_api.py:26: in test_create_theme\n    assert response.status_code == 201\nE   assert 400 == 201\nE    +  where 400 = <Response [400]>.status_code\n______________________________ test_export_theme _______________________________\ntests/test_themes_api.py:92: in test_export_theme\n    theme_id = test_create_theme()\ntests/test_themes_api.py:26: in test_create_theme\n    assert response.status_code == 201\nE   assert 400 == 201\nE    +  where 400 = <Response [400]>.status_code\n______________________________ test_import_theme _______________________________\ntests/test_themes_api.py:105: in test_import_theme\n    theme_id = test_create_theme()\ntests/test_themes_api.py:26: in test_create_theme\n    assert response.status_code == 201\nE   assert 400 == 201\nE    +  where 400 = <Response [400]>.status_code\n_______________________________ test_theme_stats _______________________________\ntests/test_themes_api.py:124: in test_theme_stats\n    assert response.status_code == 200\nE   assert 404 == 200\nE    +  where 404 = <Response [404]>.status_code\n=============================== warnings summary ===============================\ntests/test_database.py:8\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:8: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_database.py:46\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:46: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_database.py:77\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:77: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_database.py:102\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_database.py:102: PytestUnknownMarkWarning: Unknown pytest.mark.db - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.db\n\ntests/test_edge_cases.py:6\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:6: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:45\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:45: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:54\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:54: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:72\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:72: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:81\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:81: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:99\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:99: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:113\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:113: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:130\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:130: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:143\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:143: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_edge_cases.py:175\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_edge_cases.py:175: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:5\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:5: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:12\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:12: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:31\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:31: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_rest_api.py:38\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_rest_api.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:7\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:7: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:33\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:33: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:46\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:46: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:55\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:55: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:76\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:76: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:88\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:88: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:101\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:101: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:120\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:120: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:128\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:128: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_themes_api.py:142\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_themes_api.py:142: PytestUnknownMarkWarning: Unknown pytest.mark.rest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.rest\n\ntests/test_websockets.py:7\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_websockets.py:7: PytestUnknownMarkWarning: Unknown pytest.mark.websocket - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.websocket\n\ntests/test_websockets.py:22\n  /home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/tests/test_websockets.py:22: PytestUnknownMarkWarning: Unknown pytest.mark.websocket - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.websocket\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n--------------------------------- JSON report ----------------------------------\nreport saved to: reports/report.json\n- Generated html report: file:///home/b007ab1e/_src/claude/repos/claude-code-hooks-multi-agent-observability/test-harness/reports/report.html -\n=========================== short test summary info ============================\nFAILED tests/test_database.py::test_postgres_event_storage - NameError: name ...\nFAILED tests/test_database.py::test_mongo_event_storage - NameError: name 'Mo...\nFAILED tests/test_database.py::test_event_count_increment - requests.exceptio...\nFAILED tests/test_edge_cases.py::test_malformed_json - requests.exceptions.JS...\nFAILED tests/test_edge_cases.py::test_cors_headers - assert 204 == 200\nFAILED tests/test_edge_cases.py::test_unsupported_methods - assert 404 == 200\nFAILED tests/test_themes_api.py::test_create_theme - assert 400 == 201\nFAILED tests/test_themes_api.py::test_get_theme - assert 400 == 201\nFAILED tests/test_themes_api.py::test_search_themes - AssertionError: assert ...\nFAILED tests/test_themes_api.py::test_update_theme - assert 400 == 201\nFAILED tests/test_themes_api.py::test_delete_theme - assert 400 == 201\nFAILED tests/test_themes_api.py::test_export_theme - assert 400 == 201\nFAILED tests/test_themes_api.py::test_import_theme - assert 400 == 201\nFAILED tests/test_themes_api.py::test_theme_stats - assert 404 == 200\n================== 14 failed, 16 passed, 30 warnings in 0.52s ==================\n",
      "stderr": "",
      "duration": 0.8859043121337891,
      "success": false
    }
  }
}